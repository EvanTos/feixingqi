<!DOCTYPE html>
<html>
<head>
    <title>双人飞行棋</title>
    <style>
        /* 新增棋盘居中样式 */
        body {{
            display: flex;
            flex-direction: column;
            align-items: center;  /* 新增居中属性 */
        }}
 
        /* 修改棋盘容器定位 */
        #board {{
            margin: 20px auto;  /* 新增居中效果 */
            transform: none;    /* 移除之前可能影响定位的属性 */
        }}
 
        /* 新增胜利提示样式 */
        .win-alert {{
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: gold;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
        }}
    </style>
</head>
<body>
    <!-- 保持原有DOM结构不变 -->
 
    <script>
        // 修改初始化逻辑 
        function initBoard() {{
            // 在棋盘创建后立即设置初始位置 
            positions = [0, 0];  // 明确初始化坐标 
            updatePosition();    // 初始定位调用 
        }}
 
        // 增强骰子功能 
        function rollDice() {{
            // 新增骰子点数提示 
            setTimeout(() => {{
                const result = parseInt(document.getElementById('diceResult').textContent); 
                alert(`骰子点数：${{result}}`);
                
                // 添加移动后的坐标提示 
                setTimeout(() => {{
                    const pos = positions[currentPlayer];
                    if(pos > 0 && pos < 79) {{
                        alert(`当前坐标：${{pos + 1}}`);
                    }}
                }}, 300);
            }}, 600);
        }}
 
        // 优化移动逻辑 
        function movePlayer(steps) {{
            // 新增越界检测 
            if(positions[currentPlayer] + steps > 79) {{
                alert("超出终点！等待下次机会");
                return;
            }}
            
            // 强化提示系统 
            const currentPos = positions[currentPlayer] += steps;
            const prompt = promptData[currentPos];
            
            // 修改提示触发逻辑 
            if(prompt) {{
                setTimeout(() => {{
                    alert(`触发事件：${{prompt}}`);
                    document.getElementById(`cell${{currentPos}}`).style.background  = '#ffeb3b';
                }}, 500);
            }}
        }}
 
        // 优化位置更新算法 
        function updatePosition() {{
            const boardRect = document.getElementById('board').getBoundingClientRect(); 
            
            players.forEach((player,  index) => {{
                const cell = document.getElementById(`cell${{positions[index]}}`); 
                const cellRect = cell.getBoundingClientRect(); 
                
                // 精确计算定位 
                player.style.left  = `${{cellRect.left  - boardRect.left  + 10}}px`;
                player.style.top  = `${{cellRect.top  - boardRect.top  + 10}}px`;
            }});
        }}
    </script>
</body>
</html>
